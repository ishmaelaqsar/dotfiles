# Uses Mod4 (Super/Windows key) as main modifier

# --- Core Settings ---
workspace_limit       = 10
focus_mode            = follow
focus_close           = previous
focus_close_wrap      = 1
focus_default         = main
spawn_position        = next
border_width          = 2
color_focus           = rgb:eb/db/b2
color_unfocus         = rgb:83/94/96
region_padding        = 4
tile_gap              = 4

# --- Bar Configuration ---
bar_enabled           = 1
bar_border_width      = 0
bar_color             = rgb:28/28/28
bar_font_color        = rgb:eb/db/b2
bar_action            = ~/.config/spectrwm/bar.sh
bar_font              = monospace:pixelsize=14:antialias=true
clock_format          = %a %b %d %R

# --- Autostart Programs ---
# Launch common system daemons, compositors, and tray apps
autorun = ws[1]:sleep 1; picom -b
autorun = ws[1]:sleep 1; nm-applet
autorun = ws[1]:sleep 1; volumeicon
autorun = ws[1]:sleep 1; /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
autorun = ws[1]:sleep 1; dunst

# --- Program Definitions ---
program[term]         = xfce4-terminal
program[launcher]     = rofi -show drun
program[lock]         = xflock4

# --- Emacs Commands ---
program[emacs]        = ~/bin/emacs-command
program[ec_capture]   = ~/bin/emacs-command capture
program[ec_bookmark]  = ~/bin/emacs-command bookmark
program[ec_agenda]    = ~/bin/emacs-command agenda
program[ec_dired]     = ~/bin/emacs-command dired
program[ec_browse]    = ~/bin/emacs-command browse
program[ec_clip]      = ~/bin/emacs-command clip
program[ec_find]      = ~/bin/emacs-command find
program[ec_search]    = ~/bin/emacs-command search
program[ec_roam]      = ~/bin/emacs-command roam
program[ec_daily]     = ~/bin/emacs-command daily
program[ec_magit]     = ~/bin/emacs-command magit
program[ec_mx]        = ~/bin/emacs-command M-x

# --- Media and Utility Commands ---
program[vol_up]       = pactl set-sink-volume @DEFAULT_SINK@ +5%
program[vol_down]     = pactl set-sink-volume @DEFAULT_SINK@ -5%
program[vol_mute]     = pactl set-sink-mute @DEFAULT_SINK@ toggle
program[bright_up]    = brightnessctl set +10%
program[bright_down]  = brightnessctl set 10%-
program[screenshot]   = xfce4-screenshooter

# --- Keybindings ---
MOD = Mod4

# Core management
bind[term]            = MOD+Return
bind[launcher]        = MOD+p
bind[lock]            = MOD+Shift+Delete
bind[quit]            = MOD+Shift+q
bind[restart]         = MOD+q

# Window management
bind[wind_kill]       = MOD+Shift+x
bind[wind_float]      = MOD+t
bind[wind_next]       = MOD+j
bind[wind_prev]       = MOD+k
bind[wind_main]       = MOD+Shift+Return
bind[master_shrink]   = MOD+h
bind[master_grow]     = MOD+l
bind[stack_inc]       = MOD+i
bind[stack_dec]       = MOD+d

# Layouts
bind[cycle_layout]    = MOD+space
bind[layout_vertical] = MOD+v
bind[layout_max]      = MOD+m

# Workspace switching (Super + number)
bind[ws_1]            = MOD+1
bind[ws_2]            = MOD+2
bind[ws_3]            = MOD+3
bind[ws_4]            = MOD+4
bind[ws_5]            = MOD+5
bind[ws_6]            = MOD+6
bind[ws_7]            = MOD+7
bind[ws_8]            = MOD+8
bind[ws_9]            = MOD+9
bind[ws_10]           = MOD+0

# Move window to workspace
bind[mvws_1]          = MOD+Shift+1
bind[mvws_2]          = MOD+Shift+2
bind[mvws_3]          = MOD+Shift+3
bind[mvws_4]          = MOD+Shift+4
bind[mvws_5]          = MOD+Shift+5
bind[mvws_6]          = MOD+Shift+6
bind[mvws_7]          = MOD+Shift+7
bind[mvws_8]          = MOD+Shift+8
bind[mvws_9]          = MOD+Shift+9
bind[mvws_10]         = MOD+Shift+0

# Emacs keybindings
bind[emacs]           = MOD+e
bind[ec_capture]      = MOD+Shift+c
bind[ec_bookmark]     = MOD+Shift+b
bind[ec_agenda]       = MOD+Shift+a
bind[ec_dired]        = MOD+Shift+d
bind[ec_browse]       = MOD+Shift+w
bind[ec_clip]         = MOD+Shift+s
bind[ec_find]         = MOD+Shift+f
bind[ec_search]       = MOD+Shift+g
bind[ec_mx]           = MOD+x

# Media keys
bind[vol_up]          = XF86AudioRaiseVolume
bind[vol_down]        = XF86AudioLowerVolume
bind[vol_mute]        = XF86AudioMute
bind[bright_up]       = XF86MonBrightnessUp
bind[bright_down]     = XF86MonBrightnessDown

# Screenshot
bind[screenshot]      = Print

# --- Quirks (floating windows) ---
quirk[rofi]              = FLOAT + NOFOCUS
quirk[xfce4-screenshooter] = FLOAT
quirk[Thunar]            = FLOAT
quirk[Dunst]             = FLOAT + NOFOCUS
